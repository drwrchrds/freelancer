<% var disabled %>

<% if(deliverable.get('completed')) { %>
  <% disabled = 'disabled' %>
  <button 
    class='checkbox checked btn btn-sm btn-default'>
  </button>  
  <span class='completed'>
<% } else { %>
  <button 
    class='unchecked checkbox btn btn-sm btn-default'>
  </button>
  <span>
<% } %>
  <%= deliverable.escape('name') %> <%= deliverable.id %>
</span>

<div class='panel panel-warning panel-hours'>
  <button
    class='remove-hour btn btn-sm btn-warning 
    <% if(hours === 0 || deliverable.get('completed')) {%> disabled <% }%>'>
    <span class='glyphicon glyphicon-minus-sign'></span></button>
  Hours: <%= hours %>
  <button 
    class='add-hour btn btn-sm btn-success
    <% if(deliverable.get('completed')) {%> disabled <% }%>'>
    <span class='glyphicon glyphicon-plus-sign'></span></button>
</div>

<button 
  class="remove-task btn btn-sm btn-danger <%= disabled %>">
  delete
</button>

<% var dontHide %>
<% if(subdeliverableCount == '0') { dontHide = 'disabled' } %>
<button
  class="show-subdeliverables btn btn-sm btn-default <%= dontHide %>">
  <span class='caret'></span> 
  <span class='badge badge-primary'><%= subdeliverableCount %></span>
</button>
<button
  class="hide-subdeliverables btn btn-sm btn-default <%= dontHide %>">
  <span class='caret caret-reversed'></span>
  <span class='badge'><%= subdeliverableCount %></span>
  
</button>



<button 
  class="show-new-subdeliverable btn btn-sm btn-default">
  <span class='label label-primary'>new</span>
</button>

<ul class="subdeliverables"></ul>